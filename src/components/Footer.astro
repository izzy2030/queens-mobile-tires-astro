---
// Fetch cities from WordPress
const response = await fetch("https://queensmobiletires.com/graphql", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    query: `
      query GetAllCities {
        cities(first: 100) {
          nodes {
            slug
            title
          }
        }
      }
    `
  }),
});

const { data } = await response.json();
const cities = data?.cities?.nodes || [];
---

<footer class="bg-queens-black text-gray-400 py-12 border-t border-gray-800">
  <div class="container mx-auto px-6 max-w-7xl">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
      
      {/* Column 1: Brand */}
      <div>
        <h3 class="text-white font-black text-xl mb-4 uppercase tracking-tight">
          Queens <span class="text-queens-secondary">Mobile</span>
        </h3>
        <p class="text-sm leading-relaxed">
          Northern Illinois' premier mobile tire service. We come to you.
        </p>
      </div>

      {/* Column 2: Quick Links */}
      <div>
        <h4 class="text-white font-bold text-sm uppercase tracking-wider mb-4">Quick Links</h4>
        <ul class="space-y-2">
          <li><a href="/" class="text-sm hover:text-queens-secondary transition-colors">Home</a></li>
          <li><a href="/buy-new-tires" class="text-sm hover:text-queens-secondary transition-colors">Find New Tires</a></li>
          <li><a href="/tire-installation" class="text-sm hover:text-queens-secondary transition-colors">Schedule Install</a></li>
          <li><a href="/faq" class="text-sm hover:text-queens-secondary transition-colors">FAQ</a></li>
        </ul>
      </div>

      {/* Column 3: Service Areas */}
      <div>
        <h4 class="text-white font-bold text-sm uppercase tracking-wider mb-4">Service Areas</h4>
        <ul class="grid grid-cols-2 gap-2 text-sm">
          {cities.slice(0, 12).map((city) => (
            <li>
              <a 
                href={`/cities/${city.slug}`} 
                class="hover:text-queens-secondary transition-colors"
              >
                {city.title}
              </a>
            </li>
          ))}
        </ul>
        {cities.length > 12 && (
          <p class="text-xs mt-3 text-gray-500">+ {cities.length - 12} more cities</p>
        )}
      </div>

    </div>

    {/* Bottom Bar */}
    <div class="pt-8 border-t border-gray-800 text-center text-sm">
      <p>&copy; {new Date().getFullYear()} Queens Mobile Tires. Serving Northern Illinois.</p>
    </div>
  </div>
</footer>
